<Window x:Class="SnapNoteStudio.Views.OverlayWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="SnapNote Studio - 範囲選択"
        WindowStyle="None"
        AllowsTransparency="True"
        Topmost="True"
        ShowInTaskbar="False"
        Background="Transparent"
        Cursor="Cross"
        KeyDown="Window_KeyDown"
        MouseLeftButtonDown="Window_MouseLeftButtonDown"
        MouseMove="Window_MouseMove"
        MouseLeftButtonUp="Window_MouseLeftButtonUp">
    
    <Canvas x:Name="OverlayCanvas">
        <!-- Dark overlay with hole for selected region -->
        <Path x:Name="DarkOverlay" Fill="#80000000">
            <Path.Data>
                <CombinedGeometry GeometryCombineMode="Exclude">
                    <CombinedGeometry.Geometry1>
                        <RectangleGeometry x:Name="FullScreenGeometry"/>
                    </CombinedGeometry.Geometry1>
                    <CombinedGeometry.Geometry2>
                        <RectangleGeometry x:Name="SelectionGeometry" Rect="0,0,0,0"/>
                    </CombinedGeometry.Geometry2>
                </CombinedGeometry>
            </Path.Data>
        </Path>
        
        <!-- Selection border -->
        <Rectangle x:Name="SelectionBorder" 
                   Stroke="#4A7DFF" 
                   StrokeThickness="2"
                   StrokeDashArray="4,2"
                   Visibility="Collapsed"/>
        
        <!-- Size indicator -->
        <Border x:Name="SizeIndicator"
                Background="#E0F4F8FF"
                BorderBrush="#4A7DFF"
                BorderThickness="1"
                CornerRadius="4"
                Padding="8,4"
                Visibility="Collapsed">
            <TextBlock x:Name="SizeText" 
                       Foreground="#1A1A2E"
                       FontSize="12"
                       FontFamily="Segoe UI"/>
        </Border>
        
        <!-- Instructions -->
        <Border x:Name="Instructions"
                Background="#F0FFFFFF"
                BorderBrush="#D0DFFF"
                BorderThickness="1"
                CornerRadius="8"
                Padding="16,12">
            <StackPanel>
                <TextBlock Text="SnapNote Studio" 
                           FontSize="14" 
                           FontWeight="SemiBold"
                           Foreground="#4A7DFF"
                           Margin="0,0,0,8"/>
                <TextBlock Text="ドラッグで範囲を選択" 
                           Foreground="#1A1A2E"
                           FontSize="12"/>
                <TextBlock Text="Esc キーでキャンセル" 
                           Foreground="#6B7280"
                           FontSize="11"
                           Margin="0,4,0,0"/>
            </StackPanel>
        </Border>
    </Canvas>
</Window>
